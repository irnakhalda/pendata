
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Tugas 2 data_understanding &#8212; My sample book</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css?v=be8a1c11" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'Tugas2';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Tugas1 Data_mining" href="tugas1.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/irnaa.jpg" class="logo__image only-light" alt="My sample book - Home"/>
    <script>document.write(`<img src="_static/irnaa.jpg" class="logo__image only-dark" alt="My sample book - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    Selamat datang, PENAMBAHAN DATA E
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="tugas1.html">Tugas1 Data_mining</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#"><strong>Tugas 2 data_understanding</strong></a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book/issues/new?title=Issue%20on%20page%20%2FTugas2.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/Tugas2.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Tugas 2 data_understanding</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#penjelasan-outlier-deteksi"><strong>Penjelasan Outlier Deteksi</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#deteksi-outlier-dengan-k-nearest-neighbors-knn-dalam-data-understanding"><strong>Deteksi Outlier dengan K-Nearest Neighbors (KNN) dalam Data Understanding</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#pengantar-outlier-dalam-data-understanding">1. Pengantar Outlier dalam Data Understanding</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#konsep-k-nearest-neighbors-knn-dalam-deteksi-outlier">2. Konsep K-Nearest Neighbors (KNN) dalam Deteksi Outlier</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#kapan-menggunakan-knn-untuk-deteksi-outlier">Kapan Menggunakan KNN untuk Deteksi Outlier?</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#kesimpulan">Kesimpulan</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#analisis-data-koneksi-database">Analisis Data &amp; Koneksi Database</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#mengambil-data-dari-postgresql-ke-dataframe-pandas">Mengambil Data dari PostgreSQL ke DataFrame Pandas</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#mengambil-data-dari-mysql-ke-dataframe-pandas">Mengambil Data dari MySQL ke DataFrame Pandas</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#menentukan-parameter"><strong>1. Menentukan Parameter</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#menghitung-jarak-antar-titik"><strong>2. Menghitung Jarak Antar Titik</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#menentukan-tetangga-terdekat-k-nearest-neighbors"><strong>3. Menentukan Tetangga Terdekat (k-Nearest Neighbors)</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#menghitung-reachability-distance-jarak-jangkauan"><strong>4. Menghitung Reachability Distance (Jarak Jangkauan)</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#menghitung-local-reachability-density-lrd"><strong>5. Menghitung Local Reachability Density (LRD)</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#menghitung-local-outlier-factor-lof"><strong>6. Menghitung Local Outlier Factor (LOF)</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#mengidentifikasi-outlier"><strong>7. Mengidentifikasi Outlier</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#dataset-3-titik-data"><strong>Dataset (3 Titik Data)</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id1"><strong>1. Menghitung Jarak Antar Titik</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#menentukan-tetangga-terdekat"><strong>2. Menentukan Tetangga Terdekat</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#menghitung-reachability-distance"><strong>3. Menghitung <em>Reachability Distance</em></strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id2"><strong>4. Menghitung Local Reachability Density (LRD)</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#menghitung-lof-untuk-c"><strong>5. Menghitung LOF untuk C</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#interpretasi-hasil"><strong>6. Interpretasi Hasil</strong></a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="tugas-2-data-understanding">
<h1><strong>Tugas 2 data_understanding</strong><a class="headerlink" href="#tugas-2-data-understanding" title="Link to this heading">#</a></h1>
<section id="penjelasan-outlier-deteksi">
<h2><strong>Penjelasan Outlier Deteksi</strong><a class="headerlink" href="#penjelasan-outlier-deteksi" title="Link to this heading">#</a></h2>
<section id="deteksi-outlier-dengan-k-nearest-neighbors-knn-dalam-data-understanding">
<h3><strong>Deteksi Outlier dengan K-Nearest Neighbors (KNN) dalam Data Understanding</strong><a class="headerlink" href="#deteksi-outlier-dengan-k-nearest-neighbors-knn-dalam-data-understanding" title="Link to this heading">#</a></h3>
<section id="pengantar-outlier-dalam-data-understanding">
<h4>1. Pengantar Outlier dalam Data Understanding<a class="headerlink" href="#pengantar-outlier-dalam-data-understanding" title="Link to this heading">#</a></h4>
<p>Outlier adalah titik data yang memiliki nilai yang sangat berbeda dari sebagian besar data dalam suatu dataset. Nilai-nilai ini bisa muncul karena berbagai alasan, seperti kesalahan pengukuran, kesalahan input data, atau karena fenomena langka yang memang terjadi. Dalam tahap Data Understanding, mendeteksi outlier sangat penting karena keberadaan outlier dapat memengaruhi hasil analisis, pemodelan, dan pengambilan keputusan. Outlier yang tidak terdeteksi dapat menyebabkan model statistik atau machine learning menjadi bias, tidak akurat, atau bahkan gagal dalam memberikan hasil yang valid.</p>
</section>
<section id="konsep-k-nearest-neighbors-knn-dalam-deteksi-outlier">
<h4>2. Konsep K-Nearest Neighbors (KNN) dalam Deteksi Outlier<a class="headerlink" href="#konsep-k-nearest-neighbors-knn-dalam-deteksi-outlier" title="Link to this heading">#</a></h4>
<p>K-Nearest Neighbors (KNN) adalah salah satu algoritma yang dapat digunakan untuk mendeteksi outlier. Algoritma ini bekerja berdasarkan prinsip bahwa data normal cenderung berada dalam kelompok yang padat, sementara outlier cenderung berada jauh dari kelompok tersebut. Berikut adalah konsep dasar KNN dalam deteksi outlier:</p>
<ul class="simple">
<li><p>Prinsip Kerja KNN:</p></li>
</ul>
<p>KNN menghitung jarak antara suatu titik data dengan titik-titik data lain di sekitarnya. Titik data yang memiliki jarak jauh dari sebagian besar tetangganya dianggap sebagai outlier.
Secara matematis, KNN mengukur jarak (misalnya, Euclidean, Manhattan, atau Minkowski) antara titik data dan k-tetangga terdekatnya. Jika jarak rata-rata ke k-tetangga terdekat tersebut lebih besar dari ambang batas tertentu, titik data tersebut dianggap sebagai outlier.</p>
</section>
<section id="kapan-menggunakan-knn-untuk-deteksi-outlier">
<h4>Kapan Menggunakan KNN untuk Deteksi Outlier?<a class="headerlink" href="#kapan-menggunakan-knn-untuk-deteksi-outlier" title="Link to this heading">#</a></h4>
<p>KNN adalah metode yang efektif untuk deteksi outlier dalam situasi berikut:</p>
<p>Data Berdimensi Tinggi:
KNN dapat bekerja dengan baik pada data yang memiliki banyak fitur (dimensi tinggi), meskipun performanya mungkin menurun jika dimensi terlalu tinggi karena “curse of dimensionality”.</p>
<p>Data Tanpa Asumsi Distribusi:
KNN tidak memerlukan asumsi tentang distribusi data, sehingga cocok untuk data yang tidak mengikuti distribusi normal atau distribusi tertentu.</p>
<p>Dataset dengan Ukuran Sedang:
KNN cocok untuk dataset yang tidak terlalu besar karena kompleksitas komputasinya yang meningkat seiring dengan jumlah data. Untuk dataset yang sangat besar, metode lain seperti Local Outlier Factor (LOF) atau Isolation Forest mungkin lebih efisien.</p>
</section>
<section id="kesimpulan">
<h4>Kesimpulan<a class="headerlink" href="#kesimpulan" title="Link to this heading">#</a></h4>
<p>K-Nearest Neighbors (KNN) adalah metode yang efektif untuk mendeteksi outlier, terutama dalam tahap Data Understanding. Metode ini mengandalkan prinsip jarak untuk mengidentifikasi titik data yang berbeda secara signifikan dari sebagian besar data. Meskipun memiliki kelebihan seperti fleksibilitas dan kemudahan implementasi, KNN juga memiliki keterbatasan, terutama dalam hal komputasi dan pemilihan parameter. Oleh karena itu, penting untuk mempertimbangkan karakteristik dataset dan kebutuhan analisis sebelum memutuskan menggunakan KNN untuk deteksi outlier.</p>
<p>Dalam praktiknya, KNN sering digunakan bersama dengan teknik lain seperti visualisasi data (misalnya, scatter plot atau box plot) untuk memvalidasi hasil deteksi outlier dan memastikan kualitas data yang lebih baik sebelum melanjutkan ke tahap pemodelan.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="k">pip</span> install pymysql
<span class="o">%</span><span class="k">pip</span> install psycopg2
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: pymysql in /usr/local/python/3.12.1/lib/python3.12/site-packages (1.1.1)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Bold">[</span><span class=" -Color -Color-Blue">notice</span><span class=" -Color -Color-Bold">]</span> A new release of pip is available: <span class=" -Color -Color-Red">24.3.1</span> -&gt; <span class=" -Color -Color-Green">25.0.1</span>
<span class=" -Color -Color-Bold">[</span><span class=" -Color -Color-Blue">notice</span><span class=" -Color -Color-Bold">]</span> To update, run: <span class=" -Color -Color-Green">python3 -m pip install --upgrade pip</span>
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Note: you may need to restart the kernel to use updated packages.
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: psycopg2 in /usr/local/python/3.12.1/lib/python3.12/site-packages (2.9.10)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Bold">[</span><span class=" -Color -Color-Blue">notice</span><span class=" -Color -Color-Bold">]</span> A new release of pip is available: <span class=" -Color -Color-Red">24.3.1</span> -&gt; <span class=" -Color -Color-Green">25.0.1</span>
<span class=" -Color -Color-Bold">[</span><span class=" -Color -Color-Blue">notice</span><span class=" -Color -Color-Bold">]</span> To update, run: <span class=" -Color -Color-Green">python3 -m pip install --upgrade pip</span>
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Note: you may need to restart the kernel to use updated packages.
</pre></div>
</div>
</div>
</div>
</section>
<section id="analisis-data-koneksi-database">
<h4>Analisis Data &amp; Koneksi Database<a class="headerlink" href="#analisis-data-koneksi-database" title="Link to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">psycopg2</span>
<span class="kn">import</span> <span class="nn">pymysql</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">scipy.spatial.distance</span> <span class="kn">import</span> <span class="n">euclidean</span>
<span class="kn">from</span> <span class="nn">sklearn.neighbors</span> <span class="kn">import</span> <span class="n">NearestNeighbors</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="mengambil-data-dari-postgresql-ke-dataframe-pandas">
<h4>Mengambil Data dari PostgreSQL ke DataFrame Pandas<a class="headerlink" href="#mengambil-data-dari-postgresql-ke-dataframe-pandas" title="Link to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">get_pg_data</span><span class="p">():</span>
    <span class="n">conn</span> <span class="o">=</span> <span class="n">psycopg2</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>
        <span class="n">host</span><span class="o">=</span><span class="s2">&quot;sepaliris-bungairis.i.aivencloud.com&quot;</span><span class="p">,</span>
        <span class="n">user</span><span class="o">=</span><span class="s2">&quot;avnadmin&quot;</span><span class="p">,</span>
        <span class="n">password</span><span class="o">=</span><span class="s2">&quot;AVNS_suHRtx1E78VwD_GpUWU&quot;</span><span class="p">,</span>
        <span class="n">database</span><span class="o">=</span><span class="s2">&quot;defaultdb&quot;</span><span class="p">,</span>
        <span class="n">port</span><span class="o">=</span><span class="mi">21375</span>
    <span class="p">)</span>
    <span class="n">cursor</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
    <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;SELECT * FROM iris_postgresql&quot;</span><span class="p">)</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
    <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="n">desc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">desc</span> <span class="ow">in</span> <span class="n">cursor</span><span class="o">.</span><span class="n">description</span><span class="p">]</span>
    <span class="n">cursor</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="n">conn</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">columns</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="mengambil-data-dari-mysql-ke-dataframe-pandas">
<h4>Mengambil Data dari MySQL ke DataFrame Pandas<a class="headerlink" href="#mengambil-data-dari-mysql-ke-dataframe-pandas" title="Link to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">get_mysql_data</span><span class="p">():</span>
    <span class="n">conn</span> <span class="o">=</span> <span class="n">pymysql</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>
        <span class="n">host</span><span class="o">=</span><span class="s2">&quot;mysql-3c52fb68-bungairis.i.aivencloud.com&quot;</span><span class="p">,</span>
        <span class="n">user</span><span class="o">=</span><span class="s2">&quot;avnadmin&quot;</span><span class="p">,</span>
        <span class="n">password</span><span class="o">=</span><span class="s2">&quot;AVNS_dKrJFht6v0jbq0m01NJ&quot;</span><span class="p">,</span>
        <span class="n">database</span><span class="o">=</span><span class="s2">&quot;defaultdb&quot;</span><span class="p">,</span>
        <span class="n">port</span><span class="o">=</span><span class="mi">21375</span>
    <span class="p">)</span>
    <span class="n">cursor</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
    <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;SELECT * FROM irismysql&quot;</span><span class="p">)</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
    <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="n">desc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">desc</span> <span class="ow">in</span> <span class="n">cursor</span><span class="o">.</span><span class="n">description</span><span class="p">]</span>
    <span class="n">cursor</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="n">conn</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">columns</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Ambil data dari kedua database</span>
<span class="n">df_postgresql</span> <span class="o">=</span> <span class="n">get_pg_data</span><span class="p">()</span>
<span class="n">df_mysql</span> <span class="o">=</span> <span class="n">get_mysql_data</span><span class="p">()</span>

<span class="c1"># Gabungkan berdasarkan kolom &#39;id&#39; dan &#39;Class&#39;</span>
<span class="n">df_merged</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">df_mysql</span><span class="p">,</span> <span class="n">df_postgresql</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="s2">&quot;class&quot;</span><span class="p">],</span> <span class="n">how</span><span class="o">=</span><span class="s2">&quot;inner&quot;</span><span class="p">)</span>

<span class="c1"># Ambil data fitur numerik</span>
<span class="n">feature_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;petal_length&quot;</span><span class="p">,</span> <span class="s2">&quot;petal_width&quot;</span><span class="p">,</span> <span class="s2">&quot;sepal_length&quot;</span><span class="p">,</span> <span class="s2">&quot;sepal_width&quot;</span><span class="p">]</span>
<span class="n">data_values</span> <span class="o">=</span> <span class="n">df_merged</span><span class="p">[</span><span class="n">feature_columns</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>

<span class="c1"># Gunakan KNN untuk mendeteksi outlier</span>
<span class="n">K</span> <span class="o">=</span> <span class="mi">5</span>  <span class="c1"># Jumlah tetangga terdekat</span>
<span class="n">nbrs</span> <span class="o">=</span> <span class="n">NearestNeighbors</span><span class="p">(</span><span class="n">n_neighbors</span><span class="o">=</span><span class="n">K</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">metric</span><span class="o">=</span><span class="s1">&#39;euclidean&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">data_values</span><span class="p">)</span>
<span class="n">distances</span><span class="p">,</span> <span class="n">indices</span> <span class="o">=</span> <span class="n">nbrs</span><span class="o">.</span><span class="n">kneighbors</span><span class="p">(</span><span class="n">data_values</span><span class="p">)</span>

<span class="c1"># Ambil rata-rata jarak ke K tetangga terdekat (tidak termasuk jarak ke dirinya sendiri)</span>
<span class="n">df_merged</span><span class="p">[</span><span class="s2">&quot;knn_distance&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">distances</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">:],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># Tentukan threshold outlier berdasarkan persentil ke-95</span>
<span class="n">threshold</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">percentile</span><span class="p">(</span><span class="n">df_merged</span><span class="p">[</span><span class="s2">&quot;knn_distance&quot;</span><span class="p">],</span> <span class="mi">95</span><span class="p">)</span>
<span class="n">df_merged</span><span class="p">[</span><span class="s2">&quot;outlier&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_merged</span><span class="p">[</span><span class="s2">&quot;knn_distance&quot;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">threshold</span>

<span class="c1"># Cetak hasil data dengan outlier</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df_merged</span><span class="o">.</span><span class="n">to_string</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>

<span class="c1"># Visualisasi scatter plot dengan warna berdasarkan outlier</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="n">df_merged</span><span class="p">[</span><span class="s2">&quot;sepal_length&quot;</span><span class="p">],</span> <span class="n">y</span><span class="o">=</span><span class="n">df_merged</span><span class="p">[</span><span class="s2">&quot;sepal_width&quot;</span><span class="p">],</span>
    <span class="n">hue</span><span class="o">=</span><span class="n">df_merged</span><span class="p">[</span><span class="s2">&quot;outlier&quot;</span><span class="p">],</span> <span class="n">palette</span><span class="o">=</span><span class="p">{</span><span class="kc">False</span><span class="p">:</span> <span class="s2">&quot;blue&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">:</span> <span class="s2">&quot;red&quot;</span><span class="p">}</span>
<span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Outlier Detection with KNN (Sepal)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="n">df_merged</span><span class="p">[</span><span class="s2">&quot;petal_length&quot;</span><span class="p">],</span> <span class="n">y</span><span class="o">=</span><span class="n">df_merged</span><span class="p">[</span><span class="s2">&quot;petal_width&quot;</span><span class="p">],</span>
    <span class="n">hue</span><span class="o">=</span><span class="n">df_merged</span><span class="p">[</span><span class="s2">&quot;outlier&quot;</span><span class="p">],</span> <span class="n">palette</span><span class="o">=</span><span class="p">{</span><span class="kc">False</span><span class="p">:</span> <span class="s2">&quot;blue&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">:</span> <span class="s2">&quot;red&quot;</span><span class="p">}</span>
<span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Outlier Detection with KNN (Petal)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> id           class  petal_length  petal_width  sepal_length  sepal_width  knn_distance  outlier
  1     Iris-setosa           1.4          0.2           5.1          3.5      0.133137    False
  2     Iris-setosa          14.0          2.0          40.9         30.0     43.258305     True
  3     Iris-setosa           1.3          0.2           4.7          3.2      0.236019    False
  4     Iris-setosa           1.5          0.2           4.6          3.1      0.209551    False
  5     Iris-setosa           1.4          0.2           5.0          3.6      0.191277    False
  6     Iris-setosa           1.7          0.4           5.4          3.9      0.360018    False
  7     Iris-setosa           1.4          0.3           4.6          3.4      0.284127    False
  8     Iris-setosa           1.5          0.2           5.0          3.4      0.167647    False
  9     Iris-setosa           1.4          0.2           4.4          2.9      0.292923    False
 10     Iris-setosa           1.5          0.1           4.9          3.1      0.109282    False
 11     Iris-setosa           1.5          0.2           5.4          3.7      0.269234    False
 12     Iris-setosa           1.6          0.2           4.8          3.4      0.266011    False
 13     Iris-setosa           1.4          0.1           4.8          3.0      0.192913    False
 14     Iris-setosa           1.1          0.1           4.3          3.0      0.377434    False
 15     Iris-setosa           1.2          0.2           5.8          4.0      0.513789    False
 16     Iris-setosa           1.5          0.4           5.7          4.4      0.556295    False
 17     Iris-setosa           1.3          0.4           5.4          3.9      0.376312    False
 18     Iris-setosa           1.4          0.3           5.1          3.5      0.152207    False
 19     Iris-setosa           1.7          0.3           5.7          3.8      0.443504    False
 20     Iris-setosa           1.5          0.3           5.1          3.8      0.221719    False
 21     Iris-setosa           1.7          0.2           5.4          3.4      0.332902    False
 22     Iris-setosa           1.5          0.4           5.1          3.7      0.235747    False
 23     Iris-setosa           1.0          0.2           4.6          3.6      0.518395    False
 24     Iris-setosa           1.7          0.5           5.1          3.3      0.322668    False
 25     Iris-setosa           1.9          0.2           4.8          3.4      0.391591    False
 26     Iris-setosa           1.6          0.2           5.0          3.0      0.224721    False
 27     Iris-setosa           1.6          0.4           5.0          3.4      0.231348    False
 28     Iris-setosa           1.5          0.2           5.2          3.5      0.164215    False
 29     Iris-setosa           1.4          0.2           5.2          3.4      0.164215    False
 30     Iris-setosa           1.6          0.2           4.7          3.2      0.205283    False
 31     Iris-setosa           1.6          0.2           4.8          3.1      0.176929    False
 32     Iris-setosa           1.5          0.4           5.4          3.4      0.309096    False
 33     Iris-setosa           1.5          0.1           5.2          4.1      0.389902    False
 34     Iris-setosa           1.4          0.2           5.5          4.2      0.397231    False
 35     Iris-setosa           1.5          0.1           4.9          3.1      0.109282    False
 36     Iris-setosa           1.2          0.2           5.0          3.2      0.312863    False
 37     Iris-setosa           1.3          0.2           5.5          3.5      0.330971    False
 38     Iris-setosa           1.5          0.1           4.9          3.1      0.109282    False
 39     Iris-setosa           1.3          0.2           4.4          3.0      0.237274    False
 40     Iris-setosa           1.5          0.2           5.1          3.4      0.139494    False
 41     Iris-setosa           1.3          0.3           5.0          3.5      0.195546    False
 42     Iris-setosa           1.3          0.3           4.5          2.3      0.736302     True
 43     Iris-setosa           1.3          0.2           4.4          3.2      0.267967    False
 44     Iris-setosa           1.6          0.6           5.0          3.5      0.320568    False
 45     Iris-setosa           1.9          0.4           5.1          3.8      0.407785    False
 46     Iris-setosa           1.4          0.3           4.8          3.0      0.247735    False
 47     Iris-setosa           1.6          0.2           5.1          3.8      0.252596    False
 48     Iris-setosa           1.4          0.2           4.6          3.2      0.190733    False
 49     Iris-setosa           1.5          0.2           5.3          3.7      0.219269    False
 50     Iris-setosa           1.4          0.2           5.0          3.3      0.197089    False
 51 Iris-versicolor           4.7          1.4           7.0          3.2      0.402000    False
 52 Iris-versicolor           4.5          1.5           6.4          3.2      0.337735    False
 53 Iris-versicolor           4.9          1.5           6.9          3.1      0.343992    False
 54 Iris-versicolor           4.0          1.3           5.5          2.3      0.337602    False
 55 Iris-versicolor           4.6          1.5           6.5          2.8      0.339361    False
 56 Iris-versicolor           4.5          1.3           5.7          2.8      0.327657    False
 57 Iris-versicolor           4.7          1.6           6.3          3.3      0.395904    False
 58 Iris-versicolor           3.3          1.0           4.9          2.4      0.499098    False
 59 Iris-versicolor           4.6          1.3           6.6          2.9      0.287716    False
 60 Iris-versicolor           3.9          1.4           5.2          2.7      0.496896    False
 61 Iris-versicolor           3.5          1.0           5.0          2.0      0.584977    False
 62 Iris-versicolor           4.2          1.5           5.9          3.0      0.345388    False
 63 Iris-versicolor           4.0          1.0           6.0          2.2      0.544685    False
 64 Iris-versicolor           4.7          1.4           6.1          2.9      0.294026    False
 65 Iris-versicolor           3.6          1.3           5.6          2.9      0.487902    False
 66 Iris-versicolor           4.4          1.4           6.7          3.1      0.301517    False
 67 Iris-versicolor           4.5          1.5           5.6          3.0      0.344775    False
 68 Iris-versicolor           4.1          1.0           5.8          2.7      0.318835    False
 69 Iris-versicolor           4.5          1.5           6.2          2.2      0.539667    False
 70 Iris-versicolor           3.9          1.1           5.6          2.5      0.249461    False
 71 Iris-versicolor           4.8          1.8           5.9          3.2      0.355494    False
 72 Iris-versicolor           4.0          1.3           6.1          2.8      0.372910    False
 73 Iris-versicolor           4.9          1.5           6.3          2.5      0.398715    False
 74 Iris-versicolor           4.7          1.2           6.1          2.8      0.361011    False
 75 Iris-versicolor           4.3          1.3           6.4          2.9      0.319945    False
 76 Iris-versicolor           4.4          1.4           6.6          3.0      0.256680    False
 77 Iris-versicolor           4.8          1.4           6.8          2.8      0.361496    False
 78 Iris-versicolor           5.0          1.7           6.7          3.0      0.390246    False
 79 Iris-versicolor           4.5          1.5           6.0          2.9      0.299437    False
 80 Iris-versicolor           3.5          1.0           5.7          2.6      0.424564    False
 81 Iris-versicolor           3.8          1.1           5.5          2.4      0.267778    False
 82 Iris-versicolor           3.7          1.0           5.5          2.4      0.324837    False
 83 Iris-versicolor           3.9          1.2           5.8          2.7      0.267050    False
 84 Iris-versicolor           5.1          1.6           6.0          2.7      0.367850    False
 85 Iris-versicolor           4.5          1.5           5.4          3.0      0.418339    False
 86 Iris-versicolor           4.5          1.6           6.0          3.4      0.447126    False
 87 Iris-versicolor           4.7          1.5           6.7          3.1      0.318674    False
 88 Iris-versicolor           4.4          1.3           6.3          2.3      0.531071    False
 89 Iris-versicolor           4.1          1.3           5.6          3.0      0.252082    False
 90 Iris-versicolor           4.0          1.3           5.5          2.5      0.275322    False
 91 Iris-versicolor           4.4          1.2           5.5          2.6      0.370719    False
 92 Iris-versicolor           4.6          1.4           6.1          3.0      0.275026    False
 93 Iris-versicolor           4.0          1.2           5.8          2.6      0.246350    False
 94 Iris-versicolor           3.3          1.0           5.0          2.3      0.451692    False
 95 Iris-versicolor           4.2          1.3           5.6          2.7      0.255523    False
 96 Iris-versicolor           4.2          1.2           5.7          3.0      0.250359    False
 97 Iris-versicolor           4.2          1.3           5.7          2.9      0.195931    False
 98 Iris-versicolor           4.3          1.3           6.2          2.9      0.322356    False
 99 Iris-versicolor           3.0          1.1           5.1          2.5      0.621594    False
100 Iris-versicolor           4.1          1.3           5.7          2.8      0.209551    False
101  Iris-virginica           6.0          2.5           6.3          3.3      0.519844    False
102  Iris-virginica           5.1          1.9           5.8          2.7      0.254604    False
103  Iris-virginica           5.9          2.1           7.1          3.0      0.431573    False
104  Iris-virginica           5.6          1.8           6.3          2.9      0.326625    False
105  Iris-virginica           5.8          2.2           6.5          3.0      0.350276    False
106  Iris-virginica           6.6          2.1           7.6          3.0      0.499489    False
107  Iris-virginica           4.5          1.7           4.9          2.5      0.810164     True
108  Iris-virginica           6.3          1.8           7.3          2.9      0.466823    False
109  Iris-virginica           5.8          1.8           6.7          2.5      0.602832    False
110  Iris-virginica           6.1          2.5           7.2          3.6      0.714318     True
111  Iris-virginica           5.1          2.0           6.5          3.2      0.383068    False
112  Iris-virginica           5.3          1.9           6.4          2.7      0.373868    False
113  Iris-virginica           5.5          2.1           6.8          3.0      0.325700    False
114  Iris-virginica           5.0          2.0           5.7          2.5      0.385630    False
115  Iris-virginica           5.1          2.4           5.8          2.8      0.533926    False
116  Iris-virginica           5.3          2.3           6.4          3.2      0.364586    False
117  Iris-virginica           5.5          1.8           6.5          3.0      0.304304    False
118  Iris-virginica           6.7          2.2           7.7          3.8      0.823174     True
119  Iris-virginica           6.9          2.3           7.7          2.6      0.749237     True
120  Iris-virginica           5.0          1.5           6.0          2.2      0.546572    False
121  Iris-virginica           5.7          2.3           6.9          3.2      0.289747    False
122  Iris-virginica           4.9          2.0           5.6          2.8      0.382455    False
123  Iris-virginica           6.7          2.0           7.7          2.8      0.532679    False
124  Iris-virginica           4.9          1.8           6.3          2.7      0.302686    False
125  Iris-virginica           5.7          2.1           6.7          3.3      0.350372    False
126  Iris-virginica           6.0          1.8           7.2          3.2      0.457343    False
127  Iris-virginica           4.8          1.8           6.2          2.8      0.302512    False
128  Iris-virginica           4.9          1.8           6.1          3.0      0.265954    False
129  Iris-virginica           5.6          2.1           6.4          2.8      0.301871    False
130  Iris-virginica           5.8          1.6           7.2          3.0      0.527962    False
131  Iris-virginica           6.1          1.9           7.4          2.8      0.448059    False
132  Iris-virginica           6.4          2.0           7.9          3.8      0.836056     True
133  Iris-virginica           5.6          2.2           6.4          2.8      0.345839    False
134  Iris-virginica           5.1          1.5           6.3          2.8      0.392106    False
135  Iris-virginica           5.6          1.4           6.1          2.6      0.608343    False
136  Iris-virginica           6.1          2.3           7.7          3.0      0.625559    False
137  Iris-virginica           5.6          2.4           6.3          3.4      0.398480    False
138  Iris-virginica           5.5          1.8           6.4          3.1      0.333563    False
139  Iris-virginica           4.8          1.8           6.0          3.0      0.279998    False
140  Iris-virginica           5.4          2.1           6.9          3.1      0.336158    False
141  Iris-virginica           5.6          2.4           6.7          3.1      0.312580    False
142  Iris-virginica           5.1          2.3           6.9          3.1      0.420813    False
143  Iris-virginica           5.1          1.9           5.8          2.7      0.254604    False
144  Iris-virginica           5.9          2.3           6.8          3.2      0.317954    False
145  Iris-virginica           5.7          2.5           6.7          3.3      0.339413    False
146  Iris-virginica           5.2          2.3           6.7          3.0      0.342878    False
147  Iris-virginica           5.0          1.9           6.3          2.5      0.379661    False
148  Iris-virginica           5.2          2.0           6.5          3.0      0.335685    False
149  Iris-virginica           5.4          2.3           6.2          3.4      0.468533    False
150  Iris-virginica           5.1          1.8           5.9          3.0      0.324590    False
151             ???           5.1          3.2           5.8          1.0      2.035647     True
</pre></div>
</div>
<img alt="_images/8d4681fdb11db64c71037a7542575d97e5af0a4f63545902588329b8e0ddeb52.png" src="_images/8d4681fdb11db64c71037a7542575d97e5af0a4f63545902588329b8e0ddeb52.png" />
<img alt="_images/2bd841a2225a1bf9e623ef0800141d23cb360bb13b9cde07ecc7290d360c7365.png" src="_images/2bd841a2225a1bf9e623ef0800141d23cb360bb13b9cde07ecc7290d360c7365.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Hitung total outlier</span>
<span class="n">total_outliers</span> <span class="o">=</span> <span class="n">df_merged</span><span class="p">[</span><span class="s2">&quot;outlier&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Total Outlier: </span><span class="si">{</span><span class="n">total_outliers</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Total Outlier: 8
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Urutkan data berdasarkan jarak dari terkecil ke terbesar</span>
<span class="n">df_sorted</span> <span class="o">=</span> <span class="n">df_merged</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s2">&quot;knn_distance&quot;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Tampilkan hasilnya</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df_sorted</span><span class="o">.</span><span class="n">to_string</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> id           class  petal_length  petal_width  sepal_length  sepal_width  knn_distance  outlier
 10     Iris-setosa           1.5          0.1           4.9          3.1      0.109282    False
 35     Iris-setosa           1.5          0.1           4.9          3.1      0.109282    False
 38     Iris-setosa           1.5          0.1           4.9          3.1      0.109282    False
  1     Iris-setosa           1.4          0.2           5.1          3.5      0.133137    False
 40     Iris-setosa           1.5          0.2           5.1          3.4      0.139494    False
 18     Iris-setosa           1.4          0.3           5.1          3.5      0.152207    False
 28     Iris-setosa           1.5          0.2           5.2          3.5      0.164215    False
 29     Iris-setosa           1.4          0.2           5.2          3.4      0.164215    False
  8     Iris-setosa           1.5          0.2           5.0          3.4      0.167647    False
 31     Iris-setosa           1.6          0.2           4.8          3.1      0.176929    False
 48     Iris-setosa           1.4          0.2           4.6          3.2      0.190733    False
  5     Iris-setosa           1.4          0.2           5.0          3.6      0.191277    False
 13     Iris-setosa           1.4          0.1           4.8          3.0      0.192913    False
 41     Iris-setosa           1.3          0.3           5.0          3.5      0.195546    False
 97 Iris-versicolor           4.2          1.3           5.7          2.9      0.195931    False
 50     Iris-setosa           1.4          0.2           5.0          3.3      0.197089    False
 30     Iris-setosa           1.6          0.2           4.7          3.2      0.205283    False
  4     Iris-setosa           1.5          0.2           4.6          3.1      0.209551    False
100 Iris-versicolor           4.1          1.3           5.7          2.8      0.209551    False
 49     Iris-setosa           1.5          0.2           5.3          3.7      0.219269    False
 20     Iris-setosa           1.5          0.3           5.1          3.8      0.221719    False
 26     Iris-setosa           1.6          0.2           5.0          3.0      0.224721    False
 27     Iris-setosa           1.6          0.4           5.0          3.4      0.231348    False
 22     Iris-setosa           1.5          0.4           5.1          3.7      0.235747    False
  3     Iris-setosa           1.3          0.2           4.7          3.2      0.236019    False
 39     Iris-setosa           1.3          0.2           4.4          3.0      0.237274    False
 93 Iris-versicolor           4.0          1.2           5.8          2.6      0.246350    False
 46     Iris-setosa           1.4          0.3           4.8          3.0      0.247735    False
 70 Iris-versicolor           3.9          1.1           5.6          2.5      0.249461    False
 96 Iris-versicolor           4.2          1.2           5.7          3.0      0.250359    False
 89 Iris-versicolor           4.1          1.3           5.6          3.0      0.252082    False
 47     Iris-setosa           1.6          0.2           5.1          3.8      0.252596    False
102  Iris-virginica           5.1          1.9           5.8          2.7      0.254604    False
143  Iris-virginica           5.1          1.9           5.8          2.7      0.254604    False
 95 Iris-versicolor           4.2          1.3           5.6          2.7      0.255523    False
 76 Iris-versicolor           4.4          1.4           6.6          3.0      0.256680    False
128  Iris-virginica           4.9          1.8           6.1          3.0      0.265954    False
 12     Iris-setosa           1.6          0.2           4.8          3.4      0.266011    False
 83 Iris-versicolor           3.9          1.2           5.8          2.7      0.267050    False
 81 Iris-versicolor           3.8          1.1           5.5          2.4      0.267778    False
 43     Iris-setosa           1.3          0.2           4.4          3.2      0.267967    False
 11     Iris-setosa           1.5          0.2           5.4          3.7      0.269234    False
 92 Iris-versicolor           4.6          1.4           6.1          3.0      0.275026    False
 90 Iris-versicolor           4.0          1.3           5.5          2.5      0.275322    False
139  Iris-virginica           4.8          1.8           6.0          3.0      0.279998    False
  7     Iris-setosa           1.4          0.3           4.6          3.4      0.284127    False
 59 Iris-versicolor           4.6          1.3           6.6          2.9      0.287716    False
121  Iris-virginica           5.7          2.3           6.9          3.2      0.289747    False
  9     Iris-setosa           1.4          0.2           4.4          2.9      0.292923    False
 64 Iris-versicolor           4.7          1.4           6.1          2.9      0.294026    False
 79 Iris-versicolor           4.5          1.5           6.0          2.9      0.299437    False
 66 Iris-versicolor           4.4          1.4           6.7          3.1      0.301517    False
129  Iris-virginica           5.6          2.1           6.4          2.8      0.301871    False
127  Iris-virginica           4.8          1.8           6.2          2.8      0.302512    False
124  Iris-virginica           4.9          1.8           6.3          2.7      0.302686    False
117  Iris-virginica           5.5          1.8           6.5          3.0      0.304304    False
 32     Iris-setosa           1.5          0.4           5.4          3.4      0.309096    False
141  Iris-virginica           5.6          2.4           6.7          3.1      0.312580    False
 36     Iris-setosa           1.2          0.2           5.0          3.2      0.312863    False
144  Iris-virginica           5.9          2.3           6.8          3.2      0.317954    False
 87 Iris-versicolor           4.7          1.5           6.7          3.1      0.318674    False
 68 Iris-versicolor           4.1          1.0           5.8          2.7      0.318835    False
 75 Iris-versicolor           4.3          1.3           6.4          2.9      0.319945    False
 44     Iris-setosa           1.6          0.6           5.0          3.5      0.320568    False
 98 Iris-versicolor           4.3          1.3           6.2          2.9      0.322356    False
 24     Iris-setosa           1.7          0.5           5.1          3.3      0.322668    False
150  Iris-virginica           5.1          1.8           5.9          3.0      0.324590    False
 82 Iris-versicolor           3.7          1.0           5.5          2.4      0.324837    False
113  Iris-virginica           5.5          2.1           6.8          3.0      0.325700    False
104  Iris-virginica           5.6          1.8           6.3          2.9      0.326625    False
 56 Iris-versicolor           4.5          1.3           5.7          2.8      0.327657    False
 37     Iris-setosa           1.3          0.2           5.5          3.5      0.330971    False
 21     Iris-setosa           1.7          0.2           5.4          3.4      0.332902    False
138  Iris-virginica           5.5          1.8           6.4          3.1      0.333563    False
148  Iris-virginica           5.2          2.0           6.5          3.0      0.335685    False
140  Iris-virginica           5.4          2.1           6.9          3.1      0.336158    False
 54 Iris-versicolor           4.0          1.3           5.5          2.3      0.337602    False
 52 Iris-versicolor           4.5          1.5           6.4          3.2      0.337735    False
 55 Iris-versicolor           4.6          1.5           6.5          2.8      0.339361    False
145  Iris-virginica           5.7          2.5           6.7          3.3      0.339413    False
146  Iris-virginica           5.2          2.3           6.7          3.0      0.342878    False
 53 Iris-versicolor           4.9          1.5           6.9          3.1      0.343992    False
 67 Iris-versicolor           4.5          1.5           5.6          3.0      0.344775    False
 62 Iris-versicolor           4.2          1.5           5.9          3.0      0.345388    False
133  Iris-virginica           5.6          2.2           6.4          2.8      0.345839    False
105  Iris-virginica           5.8          2.2           6.5          3.0      0.350276    False
125  Iris-virginica           5.7          2.1           6.7          3.3      0.350372    False
 71 Iris-versicolor           4.8          1.8           5.9          3.2      0.355494    False
  6     Iris-setosa           1.7          0.4           5.4          3.9      0.360018    False
 74 Iris-versicolor           4.7          1.2           6.1          2.8      0.361011    False
 77 Iris-versicolor           4.8          1.4           6.8          2.8      0.361496    False
116  Iris-virginica           5.3          2.3           6.4          3.2      0.364586    False
 84 Iris-versicolor           5.1          1.6           6.0          2.7      0.367850    False
 91 Iris-versicolor           4.4          1.2           5.5          2.6      0.370719    False
 72 Iris-versicolor           4.0          1.3           6.1          2.8      0.372910    False
112  Iris-virginica           5.3          1.9           6.4          2.7      0.373868    False
 17     Iris-setosa           1.3          0.4           5.4          3.9      0.376312    False
 14     Iris-setosa           1.1          0.1           4.3          3.0      0.377434    False
147  Iris-virginica           5.0          1.9           6.3          2.5      0.379661    False
122  Iris-virginica           4.9          2.0           5.6          2.8      0.382455    False
111  Iris-virginica           5.1          2.0           6.5          3.2      0.383068    False
114  Iris-virginica           5.0          2.0           5.7          2.5      0.385630    False
 33     Iris-setosa           1.5          0.1           5.2          4.1      0.389902    False
 78 Iris-versicolor           5.0          1.7           6.7          3.0      0.390246    False
 25     Iris-setosa           1.9          0.2           4.8          3.4      0.391591    False
134  Iris-virginica           5.1          1.5           6.3          2.8      0.392106    False
 57 Iris-versicolor           4.7          1.6           6.3          3.3      0.395904    False
 34     Iris-setosa           1.4          0.2           5.5          4.2      0.397231    False
137  Iris-virginica           5.6          2.4           6.3          3.4      0.398480    False
 73 Iris-versicolor           4.9          1.5           6.3          2.5      0.398715    False
 51 Iris-versicolor           4.7          1.4           7.0          3.2      0.402000    False
 45     Iris-setosa           1.9          0.4           5.1          3.8      0.407785    False
 85 Iris-versicolor           4.5          1.5           5.4          3.0      0.418339    False
142  Iris-virginica           5.1          2.3           6.9          3.1      0.420813    False
 80 Iris-versicolor           3.5          1.0           5.7          2.6      0.424564    False
103  Iris-virginica           5.9          2.1           7.1          3.0      0.431573    False
 19     Iris-setosa           1.7          0.3           5.7          3.8      0.443504    False
 86 Iris-versicolor           4.5          1.6           6.0          3.4      0.447126    False
131  Iris-virginica           6.1          1.9           7.4          2.8      0.448059    False
 94 Iris-versicolor           3.3          1.0           5.0          2.3      0.451692    False
126  Iris-virginica           6.0          1.8           7.2          3.2      0.457343    False
108  Iris-virginica           6.3          1.8           7.3          2.9      0.466823    False
149  Iris-virginica           5.4          2.3           6.2          3.4      0.468533    False
 65 Iris-versicolor           3.6          1.3           5.6          2.9      0.487902    False
 60 Iris-versicolor           3.9          1.4           5.2          2.7      0.496896    False
 58 Iris-versicolor           3.3          1.0           4.9          2.4      0.499098    False
106  Iris-virginica           6.6          2.1           7.6          3.0      0.499489    False
 15     Iris-setosa           1.2          0.2           5.8          4.0      0.513789    False
 23     Iris-setosa           1.0          0.2           4.6          3.6      0.518395    False
101  Iris-virginica           6.0          2.5           6.3          3.3      0.519844    False
130  Iris-virginica           5.8          1.6           7.2          3.0      0.527962    False
 88 Iris-versicolor           4.4          1.3           6.3          2.3      0.531071    False
123  Iris-virginica           6.7          2.0           7.7          2.8      0.532679    False
115  Iris-virginica           5.1          2.4           5.8          2.8      0.533926    False
 69 Iris-versicolor           4.5          1.5           6.2          2.2      0.539667    False
 63 Iris-versicolor           4.0          1.0           6.0          2.2      0.544685    False
120  Iris-virginica           5.0          1.5           6.0          2.2      0.546572    False
 16     Iris-setosa           1.5          0.4           5.7          4.4      0.556295    False
 61 Iris-versicolor           3.5          1.0           5.0          2.0      0.584977    False
109  Iris-virginica           5.8          1.8           6.7          2.5      0.602832    False
135  Iris-virginica           5.6          1.4           6.1          2.6      0.608343    False
 99 Iris-versicolor           3.0          1.1           5.1          2.5      0.621594    False
136  Iris-virginica           6.1          2.3           7.7          3.0      0.625559    False
110  Iris-virginica           6.1          2.5           7.2          3.6      0.714318     True
 42     Iris-setosa           1.3          0.3           4.5          2.3      0.736302     True
119  Iris-virginica           6.9          2.3           7.7          2.6      0.749237     True
107  Iris-virginica           4.5          1.7           4.9          2.5      0.810164     True
118  Iris-virginica           6.7          2.2           7.7          3.8      0.823174     True
132  Iris-virginica           6.4          2.0           7.9          3.8      0.836056     True
151             ???           5.1          3.2           5.8          1.0      2.035647     True
  2     Iris-setosa          14.0          2.0          40.9         30.0     43.258305     True
</pre></div>
</div>
</div>
</div>
<p>#LOF
##APA ITU LOF?
Algoritme Local Outlier Factor (LOF) adalah metode deteksi anomali tanpa pengawasan yang menilai seberapa jauh kerapatan lokal suatu titik data dibandingkan dengan tetangga terdekatnya. Metode ini mengidentifikasi sampel sebagai outlier jika kerapatannya secara signifikan lebih rendah dibandingkan dengan lingkungan sekitarnya. Contoh berikut menunjukkan penggunaan LOF dalam mendeteksi outlier, yang merupakan salah satu kasus penggunaan utama dari estimator ini di scikit-learn.</p>
<p>##BAGAIMANA TAHAPAN LOF?
Tahapan dalam algoritme <strong>Local Outlier Factor (LOF)</strong> untuk mendeteksi outlier adalah sebagai berikut:</p>
</section>
</section>
<section id="menentukan-parameter">
<h3><strong>1. Menentukan Parameter</strong><a class="headerlink" href="#menentukan-parameter" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p><strong>k (jumlah tetangga terdekat):</strong> Menentukan jumlah tetangga yang akan digunakan dalam perhitungan kepadatan lokal.</p></li>
<li><p><strong>Metrik jarak:</strong> Menentukan metode pengukuran jarak antar titik, seperti <em>Euclidean distance</em> atau metrik lainnya.</p></li>
</ul>
</section>
<section id="menghitung-jarak-antar-titik">
<h3><strong>2. Menghitung Jarak Antar Titik</strong><a class="headerlink" href="#menghitung-jarak-antar-titik" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Hitung jarak antara setiap titik dalam dataset dengan semua titik lainnya menggunakan metrik jarak yang telah ditentukan.</p></li>
</ul>
</section>
<section id="menentukan-tetangga-terdekat-k-nearest-neighbors">
<h3><strong>3. Menentukan Tetangga Terdekat (k-Nearest Neighbors)</strong><a class="headerlink" href="#menentukan-tetangga-terdekat-k-nearest-neighbors" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Untuk setiap titik, temukan <strong>k</strong> tetangga terdekat berdasarkan hasil perhitungan jarak sebelumnya.</p></li>
</ul>
</section>
<section id="menghitung-reachability-distance-jarak-jangkauan">
<h3><strong>4. Menghitung Reachability Distance (Jarak Jangkauan)</strong><a class="headerlink" href="#menghitung-reachability-distance-jarak-jangkauan" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p><em>Reachability distance</em> antara titik ( A ) dan ( B ) didefinisikan sebagai:<br />
$<span class="math notranslate nohighlight">\( reach\text{-}dist_k(A,B) = \max(distance(A,B), k\text{-}distance(B)) \)</span>$</p></li>
<li><p>Nilai ini digunakan untuk menilai seberapa jauh suatu titik dari tetangga terdekatnya.</p></li>
</ul>
</section>
<section id="menghitung-local-reachability-density-lrd">
<h3><strong>5. Menghitung Local Reachability Density (LRD)</strong><a class="headerlink" href="#menghitung-local-reachability-density-lrd" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p><em>Local Reachability Density (LRD)</em> suatu titik adalah kebalikan dari rata-rata <em>reachability distance</em> ke tetangganya:<br />
$<span class="math notranslate nohighlight">\( LRD(A) = \frac{1}{\frac{1}{k} \sum_{B \in N_k(A)} reach\text{-}dist(A,B)} \)</span>$</p></li>
<li><p>Semakin tinggi nilai LRD, semakin padat lingkungan titik tersebut.</p></li>
</ul>
</section>
<section id="menghitung-local-outlier-factor-lof">
<h3><strong>6. Menghitung Local Outlier Factor (LOF)</strong><a class="headerlink" href="#menghitung-local-outlier-factor-lof" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>LOF dihitung sebagai rata-rata rasio LRD tetangga terdekat terhadap LRD titik tersebut:<br />
$<span class="math notranslate nohighlight">\( LOF_k(A) = \frac{\sum_{B \in N_k(A)} \frac{LRD_k(B)}{LRD_k(A)}}{|N_k(A)|} \)</span>$</p></li>
<li><p>Jika nilai LOF jauh lebih besar dari 1, titik tersebut memiliki kepadatan yang jauh lebih rendah dibandingkan tetangganya dan dapat dianggap sebagai <strong>outlier</strong>.</p></li>
</ul>
</section>
<section id="mengidentifikasi-outlier">
<h3><strong>7. Mengidentifikasi Outlier</strong><a class="headerlink" href="#mengidentifikasi-outlier" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Titik data dengan <strong>nilai LOF yang lebih tinggi dari ambang batas tertentu</strong> (biasanya &gt;1) dikategorikan sebagai <strong>outlier</strong> karena memiliki kepadatan yang jauh lebih rendah dibandingkan dengan lingkungan sekitarnya.</p></li>
</ul>
<p>Berikut adalah perhitungan <strong>Local Outlier Factor (LOF)</strong> secara manual dengan menggunakan <strong>LaTeX</strong> secara penuh:</p>
</section>
<hr class="docutils" />
<section id="dataset-3-titik-data">
<h3><strong>Dataset (3 Titik Data)</strong><a class="headerlink" href="#dataset-3-titik-data" title="Link to this heading">#</a></h3>
<p>Misalkan kita memiliki tiga titik data:<br />
$<span class="math notranslate nohighlight">\(
A(1,1), \quad B(2,2), \quad C(8,8)
\)</span>$<br />
Kita akan menghitung <strong>LOF untuk titik C</strong>, dengan jumlah tetangga <strong>k = 2</strong> dan menggunakan <strong>Euclidean distance</strong> sebagai metrik jarak.</p>
</section>
<hr class="docutils" />
<section id="id1">
<h3><strong>1. Menghitung Jarak Antar Titik</strong><a class="headerlink" href="#id1" title="Link to this heading">#</a></h3>
<p>Gunakan rumus <strong>Euclidean distance</strong>:<br />
$<span class="math notranslate nohighlight">\(
d(A,B) = \sqrt{(x_2 - x_1)^2 + (y_2 - y_1)^2}
\)</span>$</p>
<div class="math notranslate nohighlight">
\[
d(A,B) = \sqrt{(2 - 1)^2 + (2 - 1)^2} = \sqrt{1+1} = \sqrt{2} \approx 1.41
\]</div>
<div class="math notranslate nohighlight">
\[
d(A,C) = \sqrt{(8 - 1)^2 + (8 - 1)^2} = \sqrt{49+49} = \sqrt{98} \approx 9.90
\]</div>
<div class="math notranslate nohighlight">
\[
d(B,C) = \sqrt{(8 - 2)^2 + (8 - 2)^2} = \sqrt{36+36} = \sqrt{72} \approx 8.49
\]</div>
</section>
<hr class="docutils" />
<section id="menentukan-tetangga-terdekat">
<h3><strong>2. Menentukan Tetangga Terdekat</strong><a class="headerlink" href="#menentukan-tetangga-terdekat" title="Link to this heading">#</a></h3>
<p>Untuk titik <strong>C</strong>, dua tetangga terdekatnya adalah:</p>
<ul class="simple">
<li><p><strong>B</strong> (jarak <strong>8.49</strong>)</p></li>
<li><p><strong>A</strong> (jarak <strong>9.90</strong>)</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="menghitung-reachability-distance">
<h3><strong>3. Menghitung <em>Reachability Distance</em></strong><a class="headerlink" href="#menghitung-reachability-distance" title="Link to this heading">#</a></h3>
<p>Gunakan rumus:<br />
$<span class="math notranslate nohighlight">\(
\text{reach-dist}_k(A,B) = \max(d(A,B), k\text{-distance}(B))
\)</span>$<br />
Di mana <strong>k-distance(B)</strong> adalah jarak ke tetangga ke-2, yaitu <strong>1.41</strong>.</p>
<div class="math notranslate nohighlight">
\[
\text{reach-dist}_k(C,B) = \max(8.49, 1.41) = 8.49
\]</div>
<div class="math notranslate nohighlight">
\[
\text{reach-dist}_k(C,A) = \max(9.90, 1.41) = 9.90
\]</div>
</section>
<hr class="docutils" />
<section id="id2">
<h3><strong>4. Menghitung Local Reachability Density (LRD)</strong><a class="headerlink" href="#id2" title="Link to this heading">#</a></h3>
<p>Gunakan rumus:<br />
$<span class="math notranslate nohighlight">\(
\text{LRD}(C) = \frac{1}{\frac{1}{k} \sum \text{reach-dist}_k(C,B)}
\)</span>$</p>
<div class="math notranslate nohighlight">
\[
\text{LRD}(C) = \frac{1}{\frac{1}{2} (8.49 + 9.90)}
\]</div>
<div class="math notranslate nohighlight">
\[
= \frac{1}{\frac{18.39}{2}} = \frac{1}{9.195} \approx 0.109
\]</div>
<p>Misalkan diperoleh hasil <strong>LRD</strong> untuk titik lain:</p>
<ul class="simple">
<li><p><strong>LRD(A) = 0.75</strong></p></li>
<li><p><strong>LRD(B) = 0.68</strong></p></li>
</ul>
</section>
<hr class="docutils" />
<section id="menghitung-lof-untuk-c">
<h3><strong>5. Menghitung LOF untuk C</strong><a class="headerlink" href="#menghitung-lof-untuk-c" title="Link to this heading">#</a></h3>
<p>Gunakan rumus:<br />
$<span class="math notranslate nohighlight">\(
\text{LOF}(C) = \frac{\sum_{B \in N_k(C)} \frac{\text{LRD}(B)}{\text{LRD}(C)}}{|N_k(C)|}
\)</span>$</p>
<div class="math notranslate nohighlight">
\[
\text{LOF}(C) = \frac{\left( \frac{0.75}{0.109} + \frac{0.68}{0.109} \right)}{2}
\]</div>
<div class="math notranslate nohighlight">
\[
= \frac{(6.88 + 6.24)}{2} = \frac{13.12}{2} = 6.56
\]</div>
</section>
<hr class="docutils" />
<section id="interpretasi-hasil">
<h3><strong>6. Interpretasi Hasil</strong><a class="headerlink" href="#interpretasi-hasil" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Karena <strong>LOF(C) = 6.56</strong>, jauh lebih besar dari <strong>1</strong>, maka titik <strong>C</strong> dapat dianggap sebagai <strong>outlier</strong> karena memiliki kepadatan yang jauh lebih rendah dibandingkan dengan tetangganya.</p></li>
</ul>
<p>####implementasi sklearn</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">sklearn.neighbors</span> <span class="kn">import</span> <span class="n">NearestNeighbors</span>

<span class="c1"># Ambil data dari kedua database</span>
<span class="n">df_postgresql</span> <span class="o">=</span> <span class="n">get_pg_data</span><span class="p">()</span>
<span class="n">df_mysql</span> <span class="o">=</span> <span class="n">get_mysql_data</span><span class="p">()</span>

<span class="c1"># Gabungkan berdasarkan kolom &#39;id&#39; dan &#39;Class&#39;</span>
<span class="n">df_merged</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">df_mysql</span><span class="p">,</span> <span class="n">df_postgresql</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="s2">&quot;class&quot;</span><span class="p">],</span> <span class="n">how</span><span class="o">=</span><span class="s2">&quot;inner&quot;</span><span class="p">)</span>

<span class="c1"># Ambil data fitur numerik</span>
<span class="n">feature_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;petal_length&quot;</span><span class="p">,</span> <span class="s2">&quot;petal_width&quot;</span><span class="p">,</span> <span class="s2">&quot;sepal_length&quot;</span><span class="p">,</span> <span class="s2">&quot;sepal_width&quot;</span><span class="p">]</span>
<span class="n">data_values</span> <span class="o">=</span> <span class="n">df_merged</span><span class="p">[</span><span class="n">feature_columns</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>

<span class="c1"># Gunakan KNN untuk mendeteksi outlier</span>
<span class="n">K</span> <span class="o">=</span> <span class="mi">5</span>  <span class="c1"># Jumlah tetangga terdekat</span>
<span class="n">nbrs</span> <span class="o">=</span> <span class="n">NearestNeighbors</span><span class="p">(</span><span class="n">n_neighbors</span><span class="o">=</span><span class="n">K</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">metric</span><span class="o">=</span><span class="s1">&#39;euclidean&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">data_values</span><span class="p">)</span>
<span class="n">distances</span><span class="p">,</span> <span class="n">indices</span> <span class="o">=</span> <span class="n">nbrs</span><span class="o">.</span><span class="n">kneighbors</span><span class="p">(</span><span class="n">data_values</span><span class="p">)</span>

<span class="c1"># Ambil rata-rata jarak ke K tetangga terdekat (tidak termasuk jarak ke dirinya sendiri)</span>
<span class="n">df_merged</span><span class="p">[</span><span class="s2">&quot;knn_distance&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">distances</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">:],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># Tentukan threshold outlier berdasarkan persentil ke-95</span>
<span class="n">threshold</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">percentile</span><span class="p">(</span><span class="n">df_merged</span><span class="p">[</span><span class="s2">&quot;knn_distance&quot;</span><span class="p">],</span> <span class="mi">95</span><span class="p">)</span>
<span class="n">df_merged</span><span class="p">[</span><span class="s2">&quot;outlier&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_merged</span><span class="p">[</span><span class="s2">&quot;knn_distance&quot;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">threshold</span>

<span class="c1"># Cetak 10 data dari Sepal</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;10 Data Sepal:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df_merged</span><span class="p">[[</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="s2">&quot;class&quot;</span><span class="p">,</span> <span class="s2">&quot;sepal_length&quot;</span><span class="p">,</span> <span class="s2">&quot;sepal_width&quot;</span><span class="p">,</span> <span class="s2">&quot;outlier&quot;</span><span class="p">]]</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="o">.</span><span class="n">to_string</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>

<span class="c1"># Cetak 10 data dari Petal</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">10 Data Petal:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df_merged</span><span class="p">[[</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="s2">&quot;class&quot;</span><span class="p">,</span> <span class="s2">&quot;petal_length&quot;</span><span class="p">,</span> <span class="s2">&quot;petal_width&quot;</span><span class="p">,</span> <span class="s2">&quot;outlier&quot;</span><span class="p">]]</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="o">.</span><span class="n">to_string</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>

<span class="c1"># Visualisasi scatter plot Sepal</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="n">df_merged</span><span class="p">[</span><span class="s2">&quot;sepal_length&quot;</span><span class="p">],</span> <span class="n">y</span><span class="o">=</span><span class="n">df_merged</span><span class="p">[</span><span class="s2">&quot;sepal_width&quot;</span><span class="p">],</span>
    <span class="n">hue</span><span class="o">=</span><span class="n">df_merged</span><span class="p">[</span><span class="s2">&quot;outlier&quot;</span><span class="p">],</span> <span class="n">palette</span><span class="o">=</span><span class="p">{</span><span class="kc">False</span><span class="p">:</span> <span class="s2">&quot;blue&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">:</span> <span class="s2">&quot;red&quot;</span><span class="p">}</span>
<span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Outlier Detection with KNN (Sepal)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># Visualisasi scatter plot Petal</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="n">df_merged</span><span class="p">[</span><span class="s2">&quot;petal_length&quot;</span><span class="p">],</span> <span class="n">y</span><span class="o">=</span><span class="n">df_merged</span><span class="p">[</span><span class="s2">&quot;petal_width&quot;</span><span class="p">],</span>
    <span class="n">hue</span><span class="o">=</span><span class="n">df_merged</span><span class="p">[</span><span class="s2">&quot;outlier&quot;</span><span class="p">],</span> <span class="n">palette</span><span class="o">=</span><span class="p">{</span><span class="kc">False</span><span class="p">:</span> <span class="s2">&quot;blue&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">:</span> <span class="s2">&quot;red&quot;</span><span class="p">}</span>
<span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Outlier Detection with KNN (Petal)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>10 Data Sepal:
 id       class  sepal_length  sepal_width  outlier
  1 Iris-setosa           5.1          3.5    False
  2 Iris-setosa          40.9         30.0     True
  3 Iris-setosa           4.7          3.2    False
  4 Iris-setosa           4.6          3.1    False
  5 Iris-setosa           5.0          3.6    False
  6 Iris-setosa           5.4          3.9    False
  7 Iris-setosa           4.6          3.4    False
  8 Iris-setosa           5.0          3.4    False
  9 Iris-setosa           4.4          2.9    False
 10 Iris-setosa           4.9          3.1    False

10 Data Petal:
 id       class  petal_length  petal_width  outlier
  1 Iris-setosa           1.4          0.2    False
  2 Iris-setosa          14.0          2.0     True
  3 Iris-setosa           1.3          0.2    False
  4 Iris-setosa           1.5          0.2    False
  5 Iris-setosa           1.4          0.2    False
  6 Iris-setosa           1.7          0.4    False
  7 Iris-setosa           1.4          0.3    False
  8 Iris-setosa           1.5          0.2    False
  9 Iris-setosa           1.4          0.2    False
 10 Iris-setosa           1.5          0.1    False
</pre></div>
</div>
<img alt="_images/8d4681fdb11db64c71037a7542575d97e5af0a4f63545902588329b8e0ddeb52.png" src="_images/8d4681fdb11db64c71037a7542575d97e5af0a4f63545902588329b8e0ddeb52.png" />
<img alt="_images/2bd841a2225a1bf9e623ef0800141d23cb360bb13b9cde07ecc7290d360c7365.png" src="_images/2bd841a2225a1bf9e623ef0800141d23cb360bb13b9cde07ecc7290d360c7365.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.datasets</span> <span class="kn">import</span> <span class="n">load_iris</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1"># Load dataset</span>
<span class="n">iris</span> <span class="o">=</span> <span class="n">load_iris</span><span class="p">()</span>

<span class="c1"># Buat DataFrame</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">iris</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">iris</span><span class="o">.</span><span class="n">feature_names</span><span class="p">)</span>

<span class="c1"># Ganti nama kolom agar sesuai dengan yang diminta</span>
<span class="n">df</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;sepal_length&#39;</span><span class="p">,</span> <span class="s1">&#39;sepal_width&#39;</span><span class="p">,</span> <span class="s1">&#39;petal_length&#39;</span><span class="p">,</span> <span class="s1">&#39;petal_width&#39;</span><span class="p">]</span>

<span class="c1"># Ambil hanya kolom yang diperlukan</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;petal_length&#39;</span><span class="p">,</span> <span class="s1">&#39;petal_width&#39;</span><span class="p">,</span> <span class="s1">&#39;sepal_length&#39;</span><span class="p">,</span> <span class="s1">&#39;sepal_width&#39;</span><span class="p">]]</span>

<span class="nb">print</span><span class="p">(</span><span class="n">X</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>  <span class="c1"># Cek hasil</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>   petal_length  petal_width  sepal_length  sepal_width
0           1.4          0.2           5.1          3.5
1           1.4          0.2           4.9          3.0
2           1.3          0.2           4.7          3.2
3           1.5          0.2           4.6          3.1
4           1.4          0.2           5.0          3.6
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">sklearn.datasets</span> <span class="kn">import</span> <span class="n">load_iris</span>
<span class="kn">from</span> <span class="nn">sklearn.neighbors</span> <span class="kn">import</span> <span class="n">LocalOutlierFactor</span>

<span class="c1"># Load dataset</span>
<span class="n">iris</span> <span class="o">=</span> <span class="n">load_iris</span><span class="p">()</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">iris</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">iris</span><span class="o">.</span><span class="n">feature_names</span><span class="p">)</span>

<span class="c1"># Ganti nama kolom agar sesuai dengan permintaan</span>
<span class="n">df</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;sepal_length&#39;</span><span class="p">,</span> <span class="s1">&#39;sepal_width&#39;</span><span class="p">,</span> <span class="s1">&#39;petal_length&#39;</span><span class="p">,</span> <span class="s1">&#39;petal_width&#39;</span><span class="p">]</span>

<span class="c1"># Pastikan df_merged didefinisikan (jika memang perlu merging, lakukan di sini)</span>
<span class="n">df_merged</span> <span class="o">=</span> <span class="n">df</span>  <span class="c1"># Jika tidak ada proses merge, gunakan df langsung</span>

<span class="c1"># Ambil fitur yang diminta</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">df_merged</span><span class="p">[[</span><span class="s1">&#39;petal_length&#39;</span><span class="p">,</span> <span class="s1">&#39;petal_width&#39;</span><span class="p">,</span> <span class="s1">&#39;sepal_length&#39;</span><span class="p">,</span> <span class="s1">&#39;sepal_width&#39;</span><span class="p">]]</span>

<span class="c1"># Inisialisasi model Local Outlier Factor</span>
<span class="n">clf</span> <span class="o">=</span> <span class="n">LocalOutlierFactor</span><span class="p">(</span><span class="n">n_neighbors</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>

<span class="c1"># Prediksi anomali/outlier</span>
<span class="n">y_pred</span> <span class="o">=</span> <span class="n">clf</span><span class="o">.</span><span class="n">fit_predict</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>

<span class="c1"># Cetak hasil prediksi</span>
<span class="nb">print</span><span class="p">(</span><span class="n">y_pred</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[ 1  1  1  1  1  1  1  1  1  1  1  1  1  1  1 -1  1  1  1  1  1  1  1  1
  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1 -1  1  1  1  1  1  1
  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1
  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1
  1  1 -1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1 -1 -1  1
  1  1  1  1  1  1  1  1  1  1  1 -1  1  1  1  1  1  1  1  1  1  1  1  1
  1  1  1  1  1  1]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.datasets</span> <span class="kn">import</span> <span class="n">load_iris</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1"># Load dataset</span>
<span class="n">iris</span> <span class="o">=</span> <span class="n">load_iris</span><span class="p">()</span>

<span class="c1"># Buat DataFrame</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">iris</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">iris</span><span class="o">.</span><span class="n">feature_names</span><span class="p">)</span>

<span class="c1"># Ganti nama kolom agar sesuai dengan yang diminta</span>
<span class="n">df</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;sepal_length&#39;</span><span class="p">,</span> <span class="s1">&#39;sepal_width&#39;</span><span class="p">,</span> <span class="s1">&#39;petal_length&#39;</span><span class="p">,</span> <span class="s1">&#39;petal_width&#39;</span><span class="p">]</span>

<span class="c1"># Ambil semua data</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;petal_length&#39;</span><span class="p">,</span> <span class="s1">&#39;petal_width&#39;</span><span class="p">,</span> <span class="s1">&#39;sepal_length&#39;</span><span class="p">,</span> <span class="s1">&#39;sepal_width&#39;</span><span class="p">]]</span>

<span class="c1"># Cek jumlah data</span>
<span class="nb">print</span><span class="p">(</span><span class="n">X</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>  <span class="c1"># Output: (150, 4)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(150, 4)
     petal_length  petal_width  sepal_length  sepal_width
0             1.4          0.2           5.1          3.5
1             1.4          0.2           4.9          3.0
2             1.3          0.2           4.7          3.2
3             1.5          0.2           4.6          3.1
4             1.4          0.2           5.0          3.6
..            ...          ...           ...          ...
145           5.2          2.3           6.7          3.0
146           5.0          1.9           6.3          2.5
147           5.2          2.0           6.5          3.0
148           5.4          2.3           6.2          3.4
149           5.1          1.8           5.9          3.0

[150 rows x 4 columns]
</pre></div>
</div>
</div>
</div>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="tugas1.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Tugas1 Data_mining</p>
      </div>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#penjelasan-outlier-deteksi"><strong>Penjelasan Outlier Deteksi</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#deteksi-outlier-dengan-k-nearest-neighbors-knn-dalam-data-understanding"><strong>Deteksi Outlier dengan K-Nearest Neighbors (KNN) dalam Data Understanding</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#pengantar-outlier-dalam-data-understanding">1. Pengantar Outlier dalam Data Understanding</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#konsep-k-nearest-neighbors-knn-dalam-deteksi-outlier">2. Konsep K-Nearest Neighbors (KNN) dalam Deteksi Outlier</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#kapan-menggunakan-knn-untuk-deteksi-outlier">Kapan Menggunakan KNN untuk Deteksi Outlier?</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#kesimpulan">Kesimpulan</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#analisis-data-koneksi-database">Analisis Data &amp; Koneksi Database</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#mengambil-data-dari-postgresql-ke-dataframe-pandas">Mengambil Data dari PostgreSQL ke DataFrame Pandas</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#mengambil-data-dari-mysql-ke-dataframe-pandas">Mengambil Data dari MySQL ke DataFrame Pandas</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#menentukan-parameter"><strong>1. Menentukan Parameter</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#menghitung-jarak-antar-titik"><strong>2. Menghitung Jarak Antar Titik</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#menentukan-tetangga-terdekat-k-nearest-neighbors"><strong>3. Menentukan Tetangga Terdekat (k-Nearest Neighbors)</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#menghitung-reachability-distance-jarak-jangkauan"><strong>4. Menghitung Reachability Distance (Jarak Jangkauan)</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#menghitung-local-reachability-density-lrd"><strong>5. Menghitung Local Reachability Density (LRD)</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#menghitung-local-outlier-factor-lof"><strong>6. Menghitung Local Outlier Factor (LOF)</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#mengidentifikasi-outlier"><strong>7. Mengidentifikasi Outlier</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#dataset-3-titik-data"><strong>Dataset (3 Titik Data)</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id1"><strong>1. Menghitung Jarak Antar Titik</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#menentukan-tetangga-terdekat"><strong>2. Menentukan Tetangga Terdekat</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#menghitung-reachability-distance"><strong>3. Menghitung <em>Reachability Distance</em></strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id2"><strong>4. Menghitung Local Reachability Density (LRD)</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#menghitung-lof-untuk-c"><strong>5. Menghitung LOF untuk C</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#interpretasi-hasil"><strong>6. Interpretasi Hasil</strong></a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By The Jupyter Book Community
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>